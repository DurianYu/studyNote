<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>LazyLoad</title>
  <style>
    img {
      display: block;
      margin: 20px auto;
      width: 340px;
      height: 340px;
    }
  </style>
</head>

<body>

  <img src=" " data-src="http://ww4.sinaimg.cn/large/006y8mN6gw1fa5obmqrmvj305k05k3yh.jpg" alt="">
  <img src=" " data-src="http://77fkxu.com1.z0.glb.clouddn.com/20160308/1457402219_73571.jpg" alt="">
  <img src=" " data-src="http://ww4.sinaimg.cn/large/006y8mN6gw1fa5obmqrmvj305k05k3yh.jpg" alt="">
  <img src=" " data-src="http://ww4.sinaimg.cn/large/006y8mN6gw1fa5obmqrmvj305k05k3yh.jpg" alt="">
  <img src=" " data-src="http://ww4.sinaimg.cn/large/006y8mN6gw1fa5obmqrmvj305k05k3yh.jpg" alt="">
  <img src=" " data-src="http://ww4.sinaimg.cn/large/006y8mN6gw1fa5obmqrmvj305k05k3yh.jpg" alt="">
  <img src=" " data-src="http://ww4.sinaimg.cn/large/006y8mN6gw1fa5obmqrmvj305k05k3yh.jpg" alt="">
  <img src=" " data-src="http://ww4.sinaimg.cn/large/006y8mN6gw1fa5obmqrmvj305k05k3yh.jpg" alt="">
  <img src=" " data-src="http://ww4.sinaimg.cn/large/006y8mN6gw1fa5obmqrmvj305k05k3yh.jpg" alt="">
  <img src=" " data-src="http://ww4.sinaimg.cn/large/006y8mN6gw1fa5obmqrmvj305k05k3yh.jpg" alt="">
  <img src=" " data-src="http://ww4.sinaimg.cn/large/006y8mN6gw1fa5obmqrmvj305k05k3yh.jpg" alt="">


  <script>
      //获取图片
      var imgs = document.querySelectorAll('img'),
        //获取 浏览器可视区域高度
        H = window.innerHeight;
      window.onload = window.onscroll = function() {
        //获取 滚动条滚过的高度
        S = document.documentElement.scrollTop || document.body.scrollTop;
        [].forEach.call(imgs, function(img) {
          if (!img.getAttribute('data-src')) {  //判断存不存在data-src属性
            return
          }
          //getTop(img) 获取图片距离顶部的距离
          if (getTop(img) < (H + S - 400)) {
            img.src = img.getAttribute("data-src");
            img.removeAttribute("data-src");
          }
        })
      }
      //获取元素距离顶部高度的方法
      function getTop(e) {
        var t = e.offsetTop; //真正获取的函数
        while (e = e.offsetParent) {
          t += e.offsetTop;
        }
        return t
      }









  </script>

</body>

</html>
